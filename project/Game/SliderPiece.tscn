[gd_scene load_steps=5 format=2]

[ext_resource path="res://icon.png" type="Texture" id=1]
[ext_resource path="res://Game/SliderPiece.gd" type="Script" id=3]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;

uniform sampler2D tex;
uniform vec2 dimensions;
uniform int id;

void fragment(){
	float w = 1.0/float(dimensions.x);
	float h = 1.0/float(dimensions.y);
	float u = float(id%int(dimensions.y))*w;
	float v = float(id/int(dimensions.x))*h;
	COLOR = texture(tex, vec2(UV.x*w, UV.y*h)+vec2(u,v));
}"

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )
shader_param/dimensions = Vector2( 128, 128 )
shader_param/id = null
shader_param/tex = ExtResource( 1 )

[node name="SliderPiece" type="TextureButton"]
material = SubResource( 2 )
margin_right = 50.0
margin_bottom = 50.0
size_flags_horizontal = 3
size_flags_vertical = 3
texture_normal = ExtResource( 1 )
expand = true
script = ExtResource( 3 )
__meta__ = {
"_edit_use_anchors_": false
}

[connection signal="button_down" from="." to="." method="_on_SliderPiece_button_down"]
